# Kino Keeper

Kino Keeper - это приложение для управления избранными фильмами с использованием [Kinopoisk API Unofficial](https://kinopoiskapiunofficial.tech/). Оно позволяет пользователям искать фильмы, просматривать детали и добавлять их в избранное.

![Logo](https://raw.githubusercontent.com/DevGruz/kino-keeper/refs/heads/main/logo/logo.png)



## Оглавление



- [Kino Keeper](#kino-keeper)
  - [Оглавление](#оглавление)
  - [Функциональные возможности](#функциональные-возможности)
  - [Установка](#установка)
    - [1. Клонирование репозитория](#1-клонирование-репозитория)
    - [2. Настройка окружения](#2-настройка-окружения)
    - [3. Запуск с Docker](#3-запуск-с-docker)
  - [Использование](#использование)
    - [Эндпоинты](#эндпоинты)
    - [Доступ к Swagger-документации](#доступ-к-swagger-документации)
  - [Тестирование](#тестирование)
    - [1. Описание процесса тестирования](#1-описание-процесса-тестирования)
    - [2. Примечания по запуску](#2-примечания-по-запуску)
  - [Зависимости](#зависимости)
  - [Лицензия](#лицензия)

  

## Функциональные возможности

  

-  **Поиск фильмов:** Пользователи могут искать фильмы по ключевым словам и получать результаты, включая название, год, описание и рейтинг.

-  **Просмотр деталей фильма:** Каждый фильм можно просмотреть в деталях, включая информацию о жанрах, стране, времени показа и постере.

-  **Избранные фильмы:** Пользователи могут добавлять фильмы в избранное, что позволяет им легко находить и отслеживать свои любимые фильмы.

-  **Управление избранными фильмами:** Пользователи могут удалять фильмы из избранного и просматривать весь список своих избранных фильмов.

-  **Аутентификация и авторизация:** Пользователи могут просматривать и управлять только своими избранными фильмами.

  

## Установка

  

### 1. Клонирование репозитория

  

```bash
git clone https://github.com/DevGruz/kino-keeper.git

cd kino-keeper
```

  

### 2. Настройка окружения

  

Создайте файл .env в корне проекта и настройте необходимые переменные окружения. В корне проекта есть пример .env файла с названием .env-example

**Обязательные переменные которые нужно настроить:**
```
SECRET_KEY=
KINOPOISK_UNOFFICIAL_API_KEY=
```

  

### 3. Запуск с Docker

  

В проекте есть docker-compose.yml файл для быстрой настройки и запуска

```bash
docker-compose up --build
```

  

## Использование

После запуска приложения вы можете получить доступ к API по адресу http://localhost:8000

### Эндпоинты
 ----
-  **POST /register** - Регистрация нового пользователя.

-  **POST /login** - Аутентификация пользователя.

-  **POST /logout** - Выход пользователя.
-  ----

-  **GET /profile** - Получение текущего пользователя.

 ----

-  **GET /movies/search** - Поиск фильмов по ключевому слову.

-  **GET /movies/{kinopoisk_id}** - Получение деталей фильма.

-  **GET /movies/favorites** - Получение списка избранных фильмов.

-  **POST /movies/favorites** - Добавление фильма в избранное.

-  **DELETE /movies/favorites/{kinopoisk_id}** - Удаление фильма из избранного.
 ----
  
  

### Доступ к Swagger-документации

Для удобства разработки и тестирования API доступна Swagger-документация. Перейдите по адресу http://127.0.0.1:8000/docs, чтобы просмотреть и протестировать все доступные эндпоинты.


## Тестирование
Проект включает автоматические тесты для проверки работоспособности функционала. Чтобы запустить тесты в контейнеризированной среде, выполните следующую команду:

```
make test
```
### 1. Описание процесса тестирования
- Команда `make test` запускает контейнеры, используя файл docker-compose.test.yml, выполняет тесты, а затем выводит только логи с результатами тестирования.
- По завершении тестирования все тестовые контейнеры автоматически останавливаются и удаляются, оставляя только вывод логов тестов

### 2. Примечания по запуску
- Все зависимости и окружение для тестирования настроены в docker-compose.test.yml, поэтому вам не нужно дополнительно настраивать локальную базу данных или окружение для запуска тестов
- Если у вас нет утилиты make и вы являетесь пользователем Windows, то мне вас жаль) Вы можете выполнить команды, которые находятся в Makefile, поочередно.
  
## Зависимости

Проект использует следующие ключевые библиотеки:

  

-  **FastAPI**: Фреймворк для разработки веб-приложений.
-  **SQLAlchemy**: ORM для работы с базами данных.
-  **Pydantic**: Для валидации данных.
-  **FastAPI Users**: Библиотека для добавления системы регистрации и аутентификации.
-  **httpx**: Для выполнения асинхронных HTTP-запросов.

  

## Лицензия

Этот проект лицензирован под MIT License - подробности см. в файле [LICENSE](https://github.com/DevGruz/kino-keeper/blob/main/LICENSE).